<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sher-lock: Verifica tu correo</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr"
      crossorigin="anonymous"
    />
    <link href="./style.css" rel="stylesheet" />
    <link href="./script.html" rel="script" />
  </head>
  <body class="container mt-4">
    <div id="confirmation-header" class="row">
      <h1 id="confirmation-title" class="col-12">Abre tu correo</h1>
    </div>
    <div class="row" id="logo-n-p">
      <img
        src="./img/logo.png"
        class="logo col-12 col-md-6 col-lg-6 col-xl-4 mb-3"
        id="confirmation-logo"
      />
      <div class="col-12 col-md-6 col-lg-6 d-flex flex-column">
        <p
          class="parragraph-yellow col-xl-8 col-sm-8 pt-4 ml-5"
          id="confirmation-p"
        >
          Hemos enviado un mensaje de confirmación a la dirección de correo que
          has proporcionado. para iniciar sesión ingresa el código de 6 dígitos
          que hemos enviado a tu correo.
        </p>
      </div>
      <div class="row flex-column" id="input-n-buttons">
        <div id="otp" class="d-flex gap-2 col-12 my-4">
          <input
            type="text"
            maxlength="1"
            class="otp-input form-control text-center"
          />
          <input
            type="text"
            maxlength="1"
            class="otp-input form-control text-center"
          />
          <input
            type="text"
            maxlength="1"
            class="otp-input form-control text-center"
          />
          <div id="divide-code"></div>
          <input
            type="text"
            maxlength="1"
            class="otp-input form-control text-center"
          />
          <input
            type="text"
            maxlength="1"
            class="otp-input form-control text-center"
          />
          <input
            type="text"
            maxlength="1"
            class="otp-input form-control text-center"
          />
        </div>

        <button id="confirmation-button" class="btn btn-custom col-12">
          Confirmar código
        </button>
        <a id="return-to-login" class="yellow-a col-12 mt-4">volver</a>
      </div>
    </div>
    <script>
      const inputs = document.querySelectorAll(".otp-input");

      inputs.forEach((input, index) => {
        input.addEventListener("input", (e) => {
          const value = e.target.value;

          if (value && index < inputs.length - 1) {
            inputs[index + 1].focus();
          }

          // Allow only digits
          e.target.value = value.replace(/[^0-9]/g, "");
        });

        input.addEventListener("keydown", (e) => {
          if (e.key === "Backspace" && !input.value && index > 0) {
            inputs[index - 1].focus();
          }
        });
      });

      // Handle paste (e.g., user pastes 123456)
      inputs[0].addEventListener("paste", (e) => {
        e.preventDefault();
        const paste = (e.clipboardData || window.clipboardData)
          .getData("text")
          .slice(0, inputs.length);
        [...paste].forEach((char, i) => {
          inputs[i].value = char;
        });
        if (paste.length === inputs.length) {
          inputs[inputs.length - 1].focus();
        }
      });
    </script>
  </body>
</html>
